# Local development env example (no real secrets).
# Copy to `.env` and set strong values before running `docker compose up`.

INTERNAL_API_SECRET=change-me-dev-internal-secret-please-rotate

# Bus internal auth + ticket signing
BUS_INTERNAL_SECRET=change-me-dev-bus-internal-secret-please-rotate
BUS_TICKET_SECRET=change-me-dev-bus-ticket-secret-please-rotate

# Payments secrets (required in prod/staging; recommended in dev)
SONIC_SECRET=change-me-dev-sonic-secret-please-rotate
TOPUP_SECRET=change-me-dev-topup-secret-please-rotate
ALIAS_CODE_PEPPER=change-me-dev-alias-pepper-please-rotate
CASH_SECRET_PEPPER=change-me-dev-cash-pepper-please-rotate

# CORS / trusted hosts (tighten for real deployments)
ALLOWED_HOSTS=localhost,127.0.0.1
ALLOWED_ORIGINS=http://localhost:5173

# Fail-fast config validation (default: enabled in prod/staging, disabled otherwise).
# Set to `true` explicitly in production deployments to catch dangerous misconfig.
BFF_VALIDATE_CONFIG=false

# Defense-in-depth CSRF guard for cookie sessions (enabled by default in prod/staging).
CSRF_GUARD_ENABLED=false

# Bound in-memory rate/velocity stores (prevents memory DoS under key-spam).
RATE_STORE_MAX_KEYS=20000

# Proxy header trust (dev default is off)
TRUST_PROXY_HEADERS=off
TRUST_PRIVATE_PROXY_HOPS=true
TRUSTED_PROXY_CIDRS=

# LiveKit (dev defaults are fine for local-only testing)
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=devsecret

# Upstream base URLs (required in prod/staging; in dev you can omit them to use internal wiring)
PAYMENTS_BASE_URL=http://payments:8080
BUS_BASE_URL=http://bus:8080
CHAT_BASE_URL=http://chat:8080

# Internal-mode toggles (monolith-style). Best practice: avoid internal mode in prod/staging.
# Values: on|off|auto
PAYMENTS_INTERNAL_MODE=auto
BUS_INTERNAL_MODE=auto
CHAT_INTERNAL_MODE=auto
